
(function(a,b){a.GoogleAnalyticsObject=b;a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date()})(window,"ga");var tw_gat={_customVariables:[null,null,null,null,null],_activeCustomVariables:[false,false,false,false,false],_accountId:null,_debug:false,_lastPageUrl:"",_domainName:"auto",_clientInfo:true,_flashVersion:true,_pageTitle:true,_linker:false,_crossDomains:[],_clickHandler:null,_trackExternal:null,_trackEmail:null,_trackDownload:null,_trackReady:0,_anonymizeIP:false,_created:false};tw_gat.isArray=function(b,a){a=a||0;return(typeof(b)=="object")&&("length" in b)&&(typeof(b.length)=="number")&&(a?(b.length==a):true)};tw_gat.trim=function(c){var c=(new String(c)).replace(/^\s\s*/,""),a=/\s/,b=c.length;while(a.test(c.charAt(--b))){}return c.slice(0,b+1)};tw_gat.debug=function(a){this._debug=Math.max(0,Math.min(2,parseInt(a)));return this};tw_gat.registerCustomDimensionsMetrics=function(b){if(this._createTracker()&&(typeof(b)=="object")){for(var a in b){if(this._debug&&console){console.log("Universal Analytics","set",b)}if(this._debug<2){ga("set",b)}break}}return this};tw_gat.setAccount=function(a){this._accountId=this.trim(a);if(document.cookie.indexOf("ga-disable-"+this._accountId+"=true")>-1){if(this._debug&&console){console.log("Universal Analytics","optOut",true)}window["ga-disable-"+this._accountId]=true}return this};tw_gat.setDomainName=function(a){a=this.trim(a);if(a.length&&(a!=this._domainName)){this._domainName=a}return this};tw_gat._createTracker=function(){if(!this._created&&this._accountId){if(this._linker){if(this._debug&&console){console.log("Universal Analytics","create",this._accountId,{allowLinker:true});console.log("Universal Analytics","require","linker");console.log("Universal Analytics","linker:autoLink",this._crossDomains)}if(this._debug<2){ga("create",this._accountId,{allowLinker:true});ga("require","linker");ga("linker:autoLink",this._crossDomain)}}else{if(this._debug&&console){console.log("Universal Analytics","create",this._accountId)}if(this._debug<2){ga("create",this._accountId)}}if(this._anonymizeIP){if(this._debug&&console){console.log("Universal Analytics","set","anonymizeIp",true)}ga("set","anonymizeIp",true)}this._created=true}return this._created};tw_gat.anonymizeIP=function(a){if(!!a&&this._accountId){this._anonymizeIP=true}return this};tw_gat.trackClientInfo=function(a){return this};tw_gat.trackFlashVersion=function(a){return this};tw_gat.trackPageTitle=function(a){return this};tw_gat.setCrossDomains=function(c){if(this._accountId&&this.isArray(c)){for(var e=0,b=c.length,a;e<b;++e){a=this.trim(c[e]);if(a.length){this._crossDomains.push(a.toLowerCase())}}if(this._crossDomains.length&&!this._linker){this._linker=true;this.installTrackingHandlers(1)}}return this};tw_gat.installTrackingHandlers=function(a){if(this._accountId&&!this._clickHandler){this._trackReady|=a;if(this._trackReady==3){this._clickHandler=function(c){tw_gat.click(c)};var b=function(){var e=function(f){return tw_gat.submit(f,this)};for(var d=0,c=document.forms.length;d<c;++d){if(window.addEventListener){document.forms[d].addEventListener("submit",e,false)}else{document.attachEvent("onsubmit",e)}}};if(window.addEventListener){document.addEventListener("click",this._clickHandler,false);window.addEventListener("load",b,false)}else{document.attachEvent("onclick",this._clickHandler);document.attachEvent("onload",b)}}}};tw_gat.click=function(d){if(this._accountId){d=d||window.event;var c=d.srcElement?d.srcElement:d.target,a=c.tagName.toLowerCase();while((a!="a")){if(c.parentNode&&c.parentNode.tagName){c=c.parentNode;a=c.tagName.toLowerCase()}else{return true}}var b=c.getAttribute("href")||"",f=b.toLowerCase();if(b&&b.length){if(f.indexOf("mailto:")===0){this._doTrackEmail("Click",b.split(":")[1].split("?").shift())}else{return this._doTrackURL(d,b,null)}}}return true};tw_gat.submit=function(c,b){if(this._accountId){var a=b.action||document.location.href,d=a.toLowerCase();if(a&&a.length){if(d.indexOf("mailto:")===0){this._doTrackEmail("Post",a.split(":")[1].split("?").shift())}else{this._doTrackURL(c,a,b)}}}return true};tw_gat.cancel=function(a){a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}a.returnValue=false;if(a.preventDefault){a.preventDefault()}return false};tw_gat.link=function(a){return this};tw_gat.linkByPost=function(a){return this};tw_gat.trackExternals=function(g,e,b){if(this._accountId){if(g){this._trackExternal={mode:g,prefix:this.trim(e),restrict:[]};for(var f=0,a=b||[],c=a.length;f<c;++f){this._trackExternal.restrict.push(a[f].toLowerCase())}this.installTrackingHandlers(1)}else{this._trackExternal=null}}return this};tw_gat.trackEmails=function(f,c,a){if(this._accountId){if(f){this._trackEmail={mode:f,prefix:this.trim(c),restrict:[]};for(var d=0,g=a||[],b=g.length;d<b;++d){this._trackEmail.restrict.push(g[d].toLowerCase())}this.installTrackingHandlers(1)}else{this._trackEmail=null}}return this};tw_gat.trackDownloads=function(f,g,k,i){if(this._accountId){f=parseInt(f||0);f=isNaN(f)?0:Math.max(0,Math.min(2,f));this._trackDownload=f?{mode:f,prefix:this.trim(g),template:this.trim(k)||"{pathname}",list:{}}:null;if(f){i=i||{};var d=0;paths:for(var b in i){if(this.isArray(i[b])&&i[b].length){var a=((b.substr(0,1)!="/")?"/":"")+b.toLowerCase();this._trackDownload.list[a]=[];extensions:for(var h=0,c=i[b].length,j;h<c;++h){j=this.trim(i[b][h]||"");if(j.length){if(j=="*"){this._trackDownload.list[a]="*";++d;continue paths}else{this._trackDownload.list[a].push(j.toLowerCase())}}}if(this._trackDownload.list[a].length){++d}else{delete this._trackDownload.list[a]}}}if(!d){this._trackDownload.list=null}}if(this._trackDownload&&this._trackDownload.list){this.installTrackingHandlers(1)}}return this};tw_gat.trackPageview=function(a){if(this._createTracker()){a=(arguments.length?this.trim(a):this._lastPageUrl)||"";if(this._debug&&console){a.length?console.log("Universal Analytics","send","pageview",a):console.log("Universal Analytics","send","pageview")}if(this._debug<2){a.length?ga("send","pageview",a):ga("send","pageview")}this._lastPageUrl=a}return this};tw_gat.trackEvent=function(c,e,b,d){if(this._createTracker()){c=(c?this.trim(c):"")||"";e=(e?this.trim(e):"")||"";if(c.length&&e.length){var a={eventCategory:c,eventAction:e};if(arguments.length>2){a.eventLabel=(b?this.trim(b):"")||"";if(arguments.length>3){d=parseInt(d);a.eventValue=isNaN(d)?0:d}}if(this._debug&&console){console.log("Universal Analytics","send","event",a)}if(this._debug<2){ga("send","event",a)}}}return this};tw_gat.trackSocial=function(b,c,d){if(this._createTracker()){b=(b?this.trim(b):"")||"";c=(c?this.trim(c):"")||"";if(b.length&&c.length){var a={socialNetwork:b,socialAction:c};if(arguments.length>2){a.socialTarget=(d?this.trim(d):"")||""}if(this._debug&&console){console.log("Universal Analytics","send","social",a)}if(this._debug<2){ga("send","social",a)}}}return this};tw_gat._doTrackEmail=function(d,b){if(this._accountId&&(this._trackEmail.mode>0)){var c=b.toLowerCase(),g=b,a=this._trackEmail.restrict.length;if(a){g=null;for(var f=0;f<a;++f){if(this._trackEmail.restrict[f]==c){g=b;break}}}if(g!==null){switch(this._trackEmail.mode){case 1:this.trackPageview((this._trackEmail.prefix.length?(this._trackEmail.prefix+":"):"")+g);break;case 2:this.trackEvent(this._trackEmail.prefix,d,g);break}}}return this};tw_gat._doTrackURL=function(u,g,c){if(this._accountId){var q=window.location.hostname.toLowerCase(),f=new RegExp("^(?:f|ht)tp(?:s)?://(?:[^@]@)?([^:/]+)","im"),j=g.match(f),A=((j?j[1].toString():((g.indexOf(":")<0)?q:""))).toLowerCase();if(A==q){if(this._trackDownload&&(this._trackDownload.mode>0)&&(this._trackDownload.list!==null)){var w=document.createElement("a");w.href=g;var r=w.pathname.toLowerCase();while(r.indexOf("../")===0){r=r.substr(3)}var x=r.split("/").pop(),n=x.substring(x.indexOf(".")+1).toLowerCase(),z=false;for(var s in this._trackDownload.list){if((s=="/")||(r.indexOf(s)===0)){var h=this._trackDownload.list[s];if(h=="*"){z=true;break}else{if(this.isArray(h)){for(var u=0,b=h.length;u<b;++u){if(h[u]==n){z=true;break}}}}}}if(z){var y={"{hash}":w.hash,"{host}":w.host,"{hostname}":w.hostname,"{href}":w.href,"{pathname}":w.pathname,"{filename}":x,"{extension}":n,"{port}":w.port,"{protocol}":w.protocol,"{search}":w.search},t=this._trackDownload.template;for(var i in y){t=t.split(i).join(y[i])}switch(this._trackDownload.mode){case 1:this.trackPageview((this._trackDownload.prefix.length?(this._trackDownload.prefix+":"):"")+t);break;case 2:this.trackEvent(this._trackDownload.prefix,"Click",t);break}}}}else{if(this._crossDomains.length){for(var o=0,m=this._crossDomains.length;o<m;++o){if(this._crossDomains[o]==A){return c?this.linkByPost(c):this.link(g).cancel(u)}}}if(this._trackExternal&&(this._trackExternal.mode>0)){var k=g,l=this._trackExternal.restrict.length;if(l){k=null;for(var v=0;v<l;++v){if(this._trackExternal.restrict[v]==A){k=g;break}}}if(k!==null){switch(this._trackExternal.mode){case 1:this.trackPageview((this._trackExternal.prefix.length?(this._trackExternal.prefix+":"):"")+k);break;case 2:this.trackEvent(this._trackExternal.prefix,"Click",k);break}}}}}return true};tw_gat.optOut=function(a){a=a||false;if(this._debug&&console){console.log("Universal Analytics","optOut",a)}document.cookie="ga-disable-"+this._accountId+"="+(a?"true; expires=Thu, 31 Dec 2099 23:59:59 UTC":"; expires=Thu, 01 Jan 1970 00:00:01 UTC")+"; path=/";if(a){window["ga-disable-"+this._accountId]=true}else{window["ga-disable-"+this._accountId]=false;delete window["ga-disable-"+this._accountId]}return this};